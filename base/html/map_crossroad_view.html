<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>지도</title>
    <script src="/base/js/lib/jquery-3.5.1.min.js"></script>
    <script src="/base/js/lib/jquery-ui.min.js"></script>
    <script src="/base/js/lib/semantic.min.js"></script>
    <script src="/base/js/lib/jquery.modal.min.js"></script>
    <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=requestAnimationFrame,Element.prototype.classList,URL"></script>
    <script src="http://map.ngii.go.kr/emap/js/map/OpenLayers-6.4.3.js"></script>
    <script src="http://map.ngii.go.kr/nps/common/lib/proj4js/proj4.js"></script>
    <script src="http://map.ngii.go.kr/openapi/wmts_ngiiMap_v6.4.3.js?apikey=04trYP9_xwLAfALjwZ-B8g"></script>
    <!-- includeHTML.js : 퍼블리싱 확인용 include -->
    <script src="/base/js/common/includeHTML.js"></script>
    <script src="/base/js/common/ui.js"></script>
    <link rel="stylesheet" href="http://map.ngii.go.kr/emap/css/map/OpenLayers-6.4.3.css" />
    <link rel="stylesheet" href="/base/css/common.css" />
    <link rel="stylesheet" href="/base/css/is.css" />
  </head>
  <body>
    <div class="wrapper">
      <!-- GNB -->
      <nav class="gnb" include-html="/base/html/common/gnb.html"></nav>

      <div class="crossroad-view-container">
        <h2>롯데캐슬 교차로</h2>
        <div class="ui top attached tabular menu rounded">
          <a href="#none;" class="item active" data-tab="first">통계</a>
          <a href="#none;" class="item" data-tab="second">영상</a>
          <a href="#none;" class="item" data-tab="third">돌발</a>
        </div>
        <!-- //menu -->
        <div class="ui bottom attached tab segment stats-container active" data-tab="first">
          <section class="stats-traffic">
            <em class="tit">도로 별 누적교통량</em>
            <div class="display-info">
              <div class="left"><em>1,486</em> 대</div>
              <!-- 230826추가: 분석시간 -->
              <div class="right">
                <span class="time-analysis">분석시간 : 3:00 ~ 15:00</span>
              </div>
            </div>
            <!-- //display-info -->
            <article class="stats-content">
              <!-- 각 도로의 프로그래스바 너비값은 inline style속성의 width값으로 조정. -->
              <div class="progress-bar">
                <!-- 230913수정 : 데이터 없는 경우 -->
                <!-- <span class="no-data" style="width: 100%">100%</span> -->
                <span class="road1" style="width: 29%">29%</span>
                <span class="road2" style="width: 25%">25%</span>
                <span class="road3" style="width: 17%">17%</span>
                <span class="road4" style="width: 17%">17%</span>
                <span class="road5" style="width: 15%">15%</span>
                <span class="road6" style="width: 15%">15%</span>
              </div>
              <!-- //percent-bar -->
              <div class="progress-bar-legend">
                <div>
                  <span class="road1">
                    <em class="txt">가산디지털1로</em>
                    <em class="num">1,000대</em>
                  </span>
                  <span class="road2">
                    <em class="txt">가산디지털1로가산디라</em>
                    <em class="num">1,000대</em>
                  </span>
                </div>
                <div>
                  <span class="road3">
                    <em class="txt">화랑로</em>
                    <em class="num">1,000대</em>
                  </span>
                  <span class="road4">
                    <em class="txt">가산디지털1로</em>
                    <em class="num">1,000대</em>
                  </span>
                </div>
                <div>
                  <span class="road5">
                    <em class="txt">봉화산로</em>
                    <em class="num">1,000대</em>
                  </span>
                  <span class="road6">
                    <em class="txt">가산디지털1로</em>
                    <em class="num">1,000대</em>
                  </span>
                </div>
              </div>
              <!-- //progress-bar-legend -->
            </article>
            <!-- //stats-content -->
          </section>
          <!-- //stats-traffic -->

          <section class="stats-speed">
            <!-- 230826추가: 타이틀 옵션박스 -->
            <div class="stats-tit-option">
              <em class="tit">평균 속도</em>
              <div class="stats-tit-option-bind">
                <button type="button" class="ico-up-boxgray"><span class="screen-out">버튼</span></button>
                <span class="option-list">
                  <button type="button">평균 점유율</button>
                  <button type="button">평균 속도</button>
                  <button type="button">평균 대기행렬</button>
                </span>
              </div>
            </div>
            <!-- //stats-tit-option -->
            <div class="display-info">
              <div class="left">
                <em>70<i>km/h</i></em>
              </div>
              <!-- 230826추가: 분석시간 추가 -->
              <div class="right">
                <div>
                  <label class="radio-txt2 rounded">
                    <input type="radio" name="time2" />
                    <span>5분</span>
                  </label>
                  <label class="radio-txt2 rounded">
                    <input type="radio" name="time2" checked />
                    <span>60분</span>
                  </label>
                </div>
                <span class="time-analysis">분석시간 : 3:00 ~ 15:00</span>
              </div>
            </div>
            <!-- //display-info -->
            <article class="stats-content">
              <div class="chart-container">
                <img src="https://www.dummyimage.com/342x144/ddd/000.png&text=Chart+Area" alt="퍼블리싱 확인용 더미 이미지" class="dummy-img" />
              </div>
            </article>
            <!-- //stats-content -->
          </section>
          <!-- //stats-speed -->

          <section class="stats-los">
            <!-- 230826추가: 타이틀 옵션박스 -->
            <div class="stats-tit-option">
              <em class="tit">LOS 등급</em>
              <div class="stats-tit-option-bind">
                <button type="button" class="ico-up-boxgray"><span class="screen-out">버튼</span></button>
                <span class="option-list">
                  <button type="button">LOS 등급</button>
                  <button type="button">도로 별 LOS 등급</button>
                </span>
              </div>
            </div>
            <!-- //stats-tit-option -->
            <div class="display-info">
              <div class="left"><em>D</em></div>
              <!-- 230826추가: 분석시간 추가 -->
              <div class="right">
                <span class="time-analysis">분석시간 : 3:00 ~ 15:00</span>
              </div>
            </div>
            <!-- //display-info -->
            <article class="stats-content">
              <div class="chart-container">
                <img src="https://www.dummyimage.com/342x150/ddd/000.png&text=Chart+Area" alt="퍼블리싱 확인용 더미 이미지" class="dummy-img" />
              </div>
            </article>
            <!-- //stats-content -->
          </section>
          <!-- //stats-speed -->
        </div>
        <!-- //통계 탭 -->
        <div class="ui bottom attached tab segment video-container" data-tab="second">
          <section class="cr-camera-info">
            <div class="tit-header">
              <em class="tit">카메라 정보</em>
              <span class="right">
                <a href="#" class="btn-md2">카메라 관리</a>
              </span>
            </div>
            <!-- //tit-header -->
            <div class="data-tbl-gray xs">
              <table>
                <thead>
                  <tr>
                    <th>채널</th>
                    <th>카메라 명</th>
                    <th>촬영방향</th>
                    <th>IP</th>
                    <th>상태</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>1</td>
                    <td>CAM1</td>
                    <td>북</td>
                    <td>192.168.1.1</td>
                    <td>정상</td>
                  </tr>
                  <tr>
                    <td>2</td>
                    <td>CAM1</td>
                    <td>북</td>
                    <td>192.168.1.1</td>
                    <td>정상</td>
                  </tr>
                  <tr>
                    <td>3</td>
                    <td>CAM1</td>
                    <td>북</td>
                    <td>192.168.1.1</td>
                    <td>정상</td>
                  </tr>
                  <tr>
                    <td>4</td>
                    <td>CAM1</td>
                    <td>북</td>
                    <td>192.168.1.1</td>
                    <td>정상</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <!-- //data-tbl-gray -->
          </section>
          <!-- //cr-camera-info -->

          <section class="cr-camera-view">
            <em class="tit">카메라 View</em>

            <div class="custom-radio-rectangle-two lg">
              <label>
                <input type="radio" name="ch-all" />
                <span class="txt">분할 화면</span>
              </label>
              <label>
                <input type="radio" name="ch-all" />
                <span class="txt">지도 화면</span>
              </label>
            </div>
          </section>
          <!-- //cr-camera-view -->

          <section class="license-plate-recognition">
            <em class="tit">차량 번호 인식</em>

            <table class="tbl-custom-radio-container">
              <colgroup>
                <col style="width: 8rem" />
                <col />
              </colgroup>
              <tbody>
                <tr>
                  <th>채널 1</th>
                  <td>
                    <div class="custom-radio-rectangle-two">
                      <label>
                        <input type="radio" name="ch2-1" />
                        <span class="txt">보기</span>
                      </label>
                      <label>
                        <input type="radio" name="ch2-1" />
                        <span class="txt">숨기기</span>
                      </label>
                    </div>
                  </td>
                </tr>
                <tr>
                  <th>채널 2</th>
                  <td>
                    <div class="custom-radio-rectangle-two">
                      <label>
                        <input type="radio" name="ch2-2" />
                        <span class="txt">보기</span>
                      </label>
                      <label>
                        <input type="radio" name="ch2-2" />
                        <span class="txt">숨기기</span>
                      </label>
                    </div>
                  </td>
                </tr>
                <tr>
                  <th>채널 3</th>
                  <td>
                    <div class="custom-radio-rectangle-two">
                      <label>
                        <input type="radio" name="ch2-3" disabled />
                        <span class="txt">보기</span>
                      </label>
                      <label>
                        <input type="radio" name="ch2-3" disabled />
                        <span class="txt">숨기기</span>
                      </label>
                    </div>
                  </td>
                </tr>
                <tr>
                  <th>채널 4</th>
                  <td>
                    <div class="custom-radio-rectangle-two">
                      <label>
                        <input type="radio" name="ch2-4" />
                        <span class="txt">보기</span>
                      </label>
                      <label>
                        <input type="radio" name="ch2-4" />
                        <span class="txt">숨기기</span>
                      </label>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </section>
          <!-- //license-plate-recognition -->
        </div>
        <!-- //영상 탭 -->
        <div class="ui bottom attached tab segment accidents-container" data-tab="third">
          <section class="accidents-stats">
            <div class="tit-header">
              <em class="tit">돌발 통계</em>
              <!-- <span class="right">
                <span class="time-analysis">분석시간 : 2023.05.01</span>
              </span> -->
            </div>
            <!-- //tit-header -->
            <article class="accidents-stats-content">
              <div class="chart-container">
                <img src="https://www.dummyimage.com/360x180/ddd/000.png&amp;text=Chart+Area" alt="퍼블리싱 확인용 더미 이미지" class="dummy-img" />
              </div>
              <dl class="cumulative-num">
                <dt>돌발 유형 별 누적 건수</dt>
                <dd>(2023.00.00 ~ 2023.00.00)</dd>
              </dl>
            </article>
          </section>
          <!-- //accidents-stats -->

          <section class="accidents-list">
            <div class="tit-header">
              <em class="tit">방향 별 돌발 목록</em>
              <span class="right">
                <div class="selectbox-wrap xs">
                  <select>
                    <option value="">채널1</option>
                    <option value="">채널2</option>
                    <option value="">채널3</option>
                  </select>
                </div>
              </span>
            </div>
            <!-- //tit-header -->
            <div class="data-tbl-gray xs">
              <table>
                <thead>
                  <tr>
                    <th>시간</th>
                    <th>방향명</th>
                    <th>방향</th>
                    <th>돌발유형</th>
                    <th>처리여부</th>
                    <th>확인</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>11:30:15</td>
                    <td>00방면</td>
                    <td>북</td>
                    <td>정지</td>
                    <td>미확인</td>
                    <td>
                      <button type="button" class="ico-picture"><span class="screen-out">돌발 스틸컷 보기 버튼</span></button>
                    </td>
                  </tr>
                  <tr>
                    <td>11:30:15</td>
                    <td>00방면</td>
                    <td>북</td>
                    <td>정지</td>
                    <td>확인</td>
                    <td>
                      <button type="button" class="ico-picture"><span class="screen-out">돌발 스틸컷 보기 버튼</span></button>
                    </td>
                  </tr>
                  <tr>
                    <td>11:30:15</td>
                    <td>00방면</td>
                    <td>북</td>
                    <td>정지</td>
                    <td>미확인</td>
                    <td>
                      <button type="button" class="ico-picture"><span class="screen-out">돌발 스틸컷 보기 버튼</span></button>
                    </td>
                  </tr>
                  <tr>
                    <td>11:30:15</td>
                    <td>00방면</td>
                    <td>북</td>
                    <td>정지</td>
                    <td>확인</td>
                    <td>
                      <button type="button" class="ico-picture"><span class="screen-out">돌발 스틸컷 보기 버튼</span></button>
                    </td>
                  </tr>
                  <tr>
                    <td>11:30:15</td>
                    <td>00방면</td>
                    <td>북</td>
                    <td>정지</td>
                    <td>미확인</td>
                    <td>
                      <button type="button" class="ico-picture"><span class="screen-out">돌발 스틸컷 보기 버튼</span></button>
                    </td>
                  </tr>
                  <tr>
                    <td>11:30:15</td>
                    <td>00방면</td>
                    <td>북</td>
                    <td>정지</td>
                    <td>확인</td>
                    <td>
                      <button type="button" class="ico-picture"><span class="screen-out">돌발 스틸컷 보기 버튼</span></button>
                    </td>
                  </tr>
                  <tr>
                    <td>11:30:15</td>
                    <td>00방면</td>
                    <td>북</td>
                    <td>정지</td>
                    <td>미확인</td>
                    <td>
                      <button type="button" class="ico-picture"><span class="screen-out">돌발 스틸컷 보기 버튼</span></button>
                    </td>
                  </tr>
                  <tr>
                    <td>11:30:15</td>
                    <td>00방면</td>
                    <td>북</td>
                    <td>정지</td>
                    <td>확인</td>
                    <td>
                      <button type="button" class="ico-picture"><span class="screen-out">돌발 스틸컷 보기 버튼</span></button>
                    </td>
                  </tr>
                  <tr>
                    <td>11:30:15</td>
                    <td>00방면</td>
                    <td>북</td>
                    <td>정지</td>
                    <td>미확인</td>
                    <td>
                      <button type="button" class="ico-picture"><span class="screen-out">돌발 스틸컷 보기 버튼</span></button>
                    </td>
                  </tr>
                  <tr>
                    <td>11:30:15</td>
                    <td>00방면</td>
                    <td>북</td>
                    <td>정지</td>
                    <td>확인</td>
                    <td>
                      <button type="button" class="ico-picture"><span class="screen-out">돌발 스틸컷 보기 버튼</span></button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <!-- //data-tbl-gray -->

            <a href="#" class="ui secondary basic button rounded">돌발 상세 조회</a>
          </section>
          <!-- //accidents-list -->
        </div>
        <!-- //돌발 탭 -->

        <button type="button" class="btn-crossroad-view">
          <span class="screen-out">교차로 상세 열기/닫기 버튼</span>
        </button>
      </div>
      <!-- //crossroad-view-container -->

      <main class="ly-container">
        <div id="map1" class="ly-map">
          <!-- 지도 타입 선택 -->
          <div class="map-type">
            <label>
              <input type="radio" checked name="maptype" />
              <span>일반지도</span>
            </label>
            <label>
              <input type="radio" name="maptype" />
              <span>위성지도</span>
            </label>
          </div>
          <!-- //지도 타입 선택 -->

          <!-- LOS 아이콘 -->
          <i class="ico-los-a" style="top: 10px; left: 500px"><span class="screen-out">A등급</span></i>
          <i class="ico-los-b" style="top: 10px; left: 560px"><span class="screen-out">B등급</span></i>
          <i class="ico-los-c" style="top: 10px; left: 620px"><span class="screen-out">C등급</span></i>
          <i class="ico-los-d" style="top: 10px; left: 680px"><span class="screen-out">D등급</span></i>
          <i class="ico-los-e" style="top: 10px; left: 740px"><span class="screen-out">E등급</span></i>
          <i class="ico-los-f" style="top: 10px; left: 800px"><span class="screen-out">F등급</span></i>
          <i class="ico-los-ff" style="top: 10px; left: 860px"><span class="screen-out">FF등급</span></i>
          <i class="ico-los-fff" style="top: 10px; left: 920px"><span class="screen-out">FFF등급</span></i>

          <!-- 차량신호 아이콘 -->
          <i class="ico-vehicle-signal red" style="top: 100px; left: 500px"><span class="screen-out">빨간불</span></i>
          <i class="ico-vehicle-signal red-yellow" style="top: 150px; left: 500px"><span class="screen-out">빨간불/노란불</span></i>
          <i class="ico-vehicle-signal red-turnleft" style="top: 200px; left: 500px"><span class="screen-out">빨간불/좌회전</span></i>
          <i class="ico-vehicle-signal yellow" style="top: 100px; left: 600px"><span class="screen-out">노란불</span></i>
          <i class="ico-vehicle-signal turnleft" style="top: 100px; left: 700px"><span class="screen-out">좌회전</span></i>
          <i class="ico-vehicle-signal turnleft-green" style="top: 150px; left: 700px"><span class="screen-out">좌회전/초록불</span></i>
          <i class="ico-vehicle-signal green" style="top: 100px; left: 800px"><span class="screen-out">초록불</span></i>

          <!-- 카메라 아이콘:
              - data-target 속성의 값과 카메라 팝업의 id값이 일치해야 팝업이 노출됩니다.
              - style 속성의 left, top값으로 지도 위에 좌표값 설정.
          -->
          <i class="ico-camera" data-target="channel-1" style="left: 784px; top: 620px"><span class="screen-out">좌측 카메라 아이콘</span></i>
          <i class="ico-camera" data-target="channel-2" style="left: 1000px; top: 520px"><span class="screen-out">우측 카메라 아이콘</span></i>
          <i class="ico-camera" data-target="channel-3" style="left: 850px; top: 420px"><span class="screen-out">상단 카메라 아이콘</span></i>
          <i class="ico-camera" data-target="channel-4" style="left: 950px; top: 720px"><span class="screen-out">하단 카메라 아이콘</span></i>

          <!-- 카메라 팝업 -->
          <div id="channel-1" class="camera-popup">
            <header class="camera-popup-header">
              <em class="tit">채널 1 - 카메라 명</em>
              <div class="bind">
                <!-- 230907 수정 : 확대 버튼에 btn-modal-open 클래스 추가 및 href 속성에 팝업 id값 연결 -->
                <a href="#channel-expand-1" class="btn-modal-open btn-small gray">확대</a>
                <a href="#carnum-1" class="btn-small gray">번호인식</a>
                <a href="#" class="btn-popup-close"><span class="screen-out">팝업 닫기</span></a>
              </div>
            </header>
            <div class="camera-popup-content">
              <video autoplay loop muted width="100%" height="100%">
                <source src="https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4" type="video/mp4" />
              </video>
            </div>
            <!-- //camera-popup-content -->
            <div class="camera-popup-bottom">
              <div class="bot-info1">
                <!-- <span class="tit"><em>000대로</em> 북동 방향</span> -->
                <!-- 230913수정 : 도로 2개 이상일 경우 노출 -->
                <div class="selectbox-wrap xs">
                  <select>
                    <option value="">000대로 남동 대로</option>
                    <option value="">000대로 남동 대로</option>
                    <option value="">000대로 남동 대로</option>
                  </select>
                </div>
                <div class="right">
                  <span>12:00:00 부터</span>
                  <button type="button" class="ico-refresh"><span class="screen-out">새로 고침</span></button>
                </div>
              </div>
              <!-- //bot-info1 -->
              <div class="bot-info2">
                <div class="left">
                  <span>우회전<em>86</em><i>대</i></span>
                  <span>직진<em>189</em><i>대</i></span>
                  <span>좌회전<em>28</em><i>대</i></span>
                </div>
                <!-- //left -->
                <button type="button" class="btn-model">차종별</button>
              </div>
              <!-- //bot-info2 -->
            </div>
            <!-- //camera-popup-bottom -->

            <section class="model-traffic">
              <em class="tit">차종별 교통량</em>
              <ul class="model-traffic-data">
                <li>
                  <em>&nbsp;</em>
                  <em>1차로</em>
                  <em>2차로</em>
                  <em>3차로</em>
                  <em>4차로</em>
                </li>
                <li>
                  <em>소형</em>
                  <span>102</span>
                  <span>0</span>
                  <span>31</span>
                  <span>17</span>
                </li>
                <li>
                  <em>트럭</em>
                  <span>12</span>
                  <span>43</span>
                  <span>0</span>
                  <span>17</span>
                </li>
                <li>
                  <em>버스</em>
                  <span>5</span>
                  <span>43</span>
                  <span>31</span>
                  <span>17</span>
                </li>
                <li>
                  <em>이륜차</em>
                  <span>5</span>
                  <span>43</span>
                  <span>0</span>
                  <span>17</span>
                </li>
              </ul>
            </section>
            <!-- //model-traffic -->
          </div>
          <!-- //카메라 팝업 -->

          <!-- 카메라 팝업 -->
          <div id="channel-2" class="camera-popup">
            <header class="camera-popup-header">
              <em class="tit">채널 2 - 카메라 명</em>
              <div class="bind">
                <a href="#" class="btn-small gray">확대</a>
                <a href="#" class="btn-small gray">번호인식</a>
                <a href="#" class="btn-popup-close"><span class="screen-out">팝업 닫기</span></a>
              </div>
            </header>
            <div class="camera-popup-content">
              <video autoplay loop muted width="100%" height="100%">
                <source src="https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4" type="video/mp4" />
              </video>
            </div>
            <!-- //camera-popup-content -->
            <div class="camera-popup-bottom">
              <div class="bot-info1">
                <span class="tit"><em>000대로</em> 북동 방향</span>
                <div class="right">
                  <span>12:00:00 부터</span>
                  <button type="button" class="ico-refresh"><span class="screen-out">새로 고침</span></button>
                </div>
              </div>
              <!-- //bot-info1 -->
              <div class="bot-info2">
                <div class="left">
                  <span>우회전<em>86</em><i>대</i></span>
                  <span>직진<em>189</em><i>대</i></span>
                  <span>좌회전<em>28</em><i>대</i></span>
                </div>
                <!-- //left -->
                <button type="button" class="btn-model">차종별</button>
              </div>
              <!-- //bot-info2 -->
            </div>
            <!-- //camera-popup-bottom -->

            <section class="model-traffic">
              <em class="tit">차종별 교통량</em>
              <ul class="model-traffic-data">
                <li>
                  <em>&nbsp;</em>
                  <em>1차로</em>
                  <em>2차로</em>
                  <em>3차로</em>
                  <em>4차로</em>
                </li>
                <li>
                  <em>소형</em>
                  <span>102</span>
                  <span>0</span>
                  <span>31</span>
                  <span>17</span>
                </li>
                <li>
                  <em>트럭</em>
                  <span>12</span>
                  <span>43</span>
                  <span>0</span>
                  <span>17</span>
                </li>
                <li>
                  <em>버스</em>
                  <span>5</span>
                  <span>43</span>
                  <span>31</span>
                  <span>17</span>
                </li>
                <li>
                  <em>이륜차</em>
                  <span>5</span>
                  <span>43</span>
                  <span>0</span>
                  <span>17</span>
                </li>
              </ul>
            </section>
            <!-- //model-traffic -->
          </div>
          <!-- //카메라 팝업 -->

          <!-- 카메라 팝업 -->
          <div id="channel-3" class="camera-popup">
            <header class="camera-popup-header">
              <em class="tit">채널 3 - 카메라 명</em>
              <div class="bind">
                <a href="#" class="btn-small gray">확대</a>
                <a href="#" class="btn-small gray">번호인식</a>
                <a href="#" class="btn-popup-close"><span class="screen-out">팝업 닫기</span></a>
              </div>
            </header>
            <div class="camera-popup-content">
              <video autoplay loop muted width="100%" height="100%">
                <source src="https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4" type="video/mp4" />
              </video>
            </div>
            <!-- //camera-popup-content -->
            <div class="camera-popup-bottom">
              <div class="bot-info1">
                <span class="tit"><em>000대로</em> 북동 방향</span>
                <div class="right">
                  <span>12:00:00 부터</span>
                  <button type="button" class="ico-refresh"><span class="screen-out">새로 고침</span></button>
                </div>
              </div>
              <!-- //bot-info1 -->
              <div class="bot-info2">
                <div class="left">
                  <span>우회전<em>86</em><i>대</i></span>
                  <span>직진<em>189</em><i>대</i></span>
                  <span>좌회전<em>28</em><i>대</i></span>
                </div>
                <!-- //left -->
                <button type="button" class="btn-model">차종별</button>
              </div>
              <!-- //bot-info2 -->
            </div>
            <!-- //camera-popup-bottom -->

            <section class="model-traffic">
              <em class="tit">차종별 교통량</em>
              <ul class="model-traffic-data">
                <li>
                  <em>&nbsp;</em>
                  <em>1차로</em>
                  <em>2차로</em>
                  <em>3차로</em>
                  <em>4차로</em>
                </li>
                <li>
                  <em>소형</em>
                  <span>102</span>
                  <span>0</span>
                  <span>31</span>
                  <span>17</span>
                </li>
                <li>
                  <em>트럭</em>
                  <span>12</span>
                  <span>43</span>
                  <span>0</span>
                  <span>17</span>
                </li>
                <li>
                  <em>버스</em>
                  <span>5</span>
                  <span>43</span>
                  <span>31</span>
                  <span>17</span>
                </li>
                <li>
                  <em>이륜차</em>
                  <span>5</span>
                  <span>43</span>
                  <span>0</span>
                  <span>17</span>
                </li>
              </ul>
            </section>
            <!-- //model-traffic -->
          </div>
          <!-- //카메라 팝업 -->

          <!-- 230907 추가 : 카메라 확대 팝업 -->
          <div id="channel-expand-1" class="modal expend">
            <div class="modal-container">
              <div class="modal-header">
                <span class="tit">채널1 - 카메라 명</span>
              </div>
              <!-- //modal-header -->
              <div class="modal-body">
                <video autoplay loop muted width="100%" height="100%" class="expend-video">
                  <source src="https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4" type="video/mp4" />
                </video>
              </div>
              <!-- //modal-body -->
            </div>
            <!-- //modal-container -->
          </div>
          <!-- //modal -->

          <!-- 차량 번호 인식 팝업 -->
          <div id="carnum-1" class="car-num-recog-popup" hidden>작업중..</div>
          <!-- //차량 번호 인식 팝업 -->
        </div>
        <!-- //ly-map -->
      </main>
      <!-- //ly-container -->

      <footer class="ly-copyright" include-html="/base/html/common/footer.html"></footer>
    </div>
    <!-- //wrapper -->

    <script>
      // map init
      window.onload = function () {
        var map1 = new ngii_wmts.map('map1', { zoom: 6 });
      };

      // 탭 퍼블리싱 확인용
      $('.crossroad-view-container .menu .item').tab();

      // 230921 추가 : 상세화면 데이터 영역 x축으로 늘리는 기능
      $('.crossroad-view-container').resizable({
        handles: 'e',
        minWidth: 422,
        maxWidth: 572,
      });

      // 통계 탭 > 타이틀(평균 속도 / LOS 등급)버튼 클릭 이벤트
      $('.stats-tit-option-bind .ico-up-boxgray').on('click', function () {
        var $optionList = $(this).parent().find('.option-list');
        if ($optionList.css('display') === 'none') {
          $('.option-list').fadeOut(150);
          $optionList.fadeIn(150);
        } else {
          $optionList.fadeOut(150);
        }
      });
      $('.option-list button').each(function (_, el) {
        $(el).on('click', function () {
          $(el).parent().find('button').removeClass('active');
          $(el).addClass('active');
          $(el).parent().hide();
        });
      });

      // 카메라 아이콘 클릭시 팝업 노출
      $('.ico-camera').on('click', function () {
        var $this = $(this);
        var $icoW = $this.outerWidth(true);
        var $icoH = $this.outerHeight(true);
        var $top = $this.position().top;
        var $left = $this.position().left;
        var $target = $this.data('target');
        var $popup = $('#' + $target);

        // 마지막으로 움직인 위치값으로 팝업 좌표값 재설정.
        // 최초 페이지 랜더링 후 data-camera-popup-pos속성 값이 없기 때문에 아래 else 구문이 실행되고,
        // 팝업이 움직이면 811라인의 스크립트가 실행되면서 data-camera-popup-pos 속성값이 생기고 카메라 아이콘 data-camera-popup-pos 속성에 팝업 좌표값이 저장이 됩니다.
        // 팝업을 닫고 다시 팝업을 호출하면 아래 if문의 true 구문이 실행되면서 마지막으로 닫았던 좌표값으로 팝업 위치를 설정합니다.
        if ($(this).attr('data-camera-popup-pos')) {
          $popup.fadeIn(250).attr('style', $(this).attr('data-camera-popup-pos'));
        } else {
          $popup.fadeIn(250).css({
            top: $top + $icoH + 'px',
            left: $left + $icoW + 'px',
            transform: 'translateY(-145px)', // 230914 수정
          });
        }
      });

      // 카메라 팝업 닫기
      $('.camera-popup .btn-popup-close').on('click', function (e) {
        e.preventDefault();
        var $thisCameraPopup = $(this).closest('.camera-popup');
        $thisCameraPopup.fadeOut(150);
      });

      // 230914 수정 : 차종별 토글 버튼
      $('.btn-model').on('click', function () {
        var $this = $(this);
        var $parent = $this.closest('.camera-popup');
        var $modelTraffic = $parent.find('.model-traffic');
        var $modelTrafficH = $modelTraffic.height();
        $this.toggleClass('active');
        if ($this.is('.active')) {
          $modelTraffic.fadeIn(200);
          $parent.find('.ui-resizable-e').css('height', `calc(100% + ${$modelTrafficH}px)`);
          $parent.find('.ui-resizable-s').css('bottom', -$modelTrafficH);
          $parent.find('.ui-resizable-se').css('bottom', -$modelTrafficH);
        } else {
          $modelTraffic.fadeOut(200);
          $parent.find('.ui-resizable-e').css('height', '100%');
          $parent.find('.ui-resizable-s').css('bottom', '-5px');
          $parent.find('.ui-resizable-se').css('bottom', '1px');
        }
      });

      // 230914 추가 : 리사이징 이벤트 기능
      $('.camera-popup').resizable({
        maxWidth: 800,
        maxHeight: 772,
        minWidth: 300,
        minHeight: 272,
        aspectRatio: 8 / 7,
      });

      // 230914 수정 : 카메라 팝업 드래그 이벤트 기능
      $('.camera-popup').draggable({
        containment: '.ly-map',
        scroll: false,
        drag: function () {
          var $this = $(this);
          $this.css('transform', 'translateY(0)'); // 드래그시 최초 css로 설정한 transform 속성값을 0으로 변경
          $('body').addClass('ov-hide'); // 리사이징 때문에 생긴 side effect 부분 보완
        },
        stop: function () {
          var $draggable = $(this); // 현재 팝업 요소
          var offset = $draggable.offset(); // 팝업의 현재 오프셋 위치
          var viewportWidth = $(window).width(); // 뷰포트 너비
          var elementWidth = $draggable.width(); // 요소의 너비
          // 팝업이 뷰포트 오른쪽 가장자리에 있는지 확인
          if (!(offset.left + elementWidth >= viewportWidth - 23)) {
            $('body').removeClass('ov-hide');
          }

          // 카메라 아이콘의 data-camera-popup-pos 속성을 생성 후 팝업의 좌표값 저장
          var $cameraPopupStyle = $(this).attr('style');
          var $dataTarget = $(this).attr('id');
          $(`[data-target = ${$dataTarget}]`).attr('data-camera-popup-pos', $cameraPopupStyle);
        },
      });

      // 현재 활성화된 카메라 팝업 체크
      $('.camera-popup').on('mousedown', function () {
        $('.camera-popup').removeClass('current-active');
        $(this).addClass('current-active');
      });
    </script>
  </body>
</html>
