<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>교차로 상세 + 검색</title>
    <script src="/base/js/lib/jquery-3.5.1.min.js"></script>
    <script src="/base/js/lib/jquery-ui.min.js"></script>
    <script src="/base/js/lib/semantic.min.js"></script>
    <script src="/base/js/lib/jquery.modal.min.js"></script>
    <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=requestAnimationFrame,Element.prototype.classList,URL"></script>
    <script src="http://map.ngii.go.kr/emap/js/map/OpenLayers-6.4.3.js"></script>
    <script src="http://map.ngii.go.kr/nps/common/lib/proj4js/proj4.js"></script>
    <script src="http://map.ngii.go.kr/openapi/wmts_ngiiMap_v6.4.3.js?apikey=04trYP9_xwLAfALjwZ-B8g"></script>
    <!-- includeHTML.js : 퍼블리싱 확인용 include -->
    <script src="/base/js/common/includeHTML.js"></script>
    <script src="/base/js/common/ui.js"></script>
    <script src="/base/js/common/map-iconbar.js"></script>
    <link rel="stylesheet" href="http://map.ngii.go.kr/emap/css/map/OpenLayers-6.4.3.css" />
    <link rel="stylesheet" href="/base/css/common.css" />
    <link rel="stylesheet" href="/base/css/is.css" />
  </head>
  <body>
    <div class="wrapper">
      <!-- GNB -->
      <nav class="gnb" include-html="/base/html/common/gnb.html"></nav>

      <div class="crossroad-view-container">
        <h2>롯데캐슬 교차로</h2>
        <div class="ui top attached tabular menu rounded">
          <a href="#none;" class="item active" data-tab="first">통계</a>
          <a href="#none;" class="item" data-tab="second">영상</a>
          <a href="#none;" class="item" data-tab="third">돌발</a>
        </div>
        <!-- //menu -->
        <div class="ui bottom attached tab segment stats-container active" data-tab="first">
          <section class="stats-traffic">
            <em class="tit">도로 별 누적교통량</em>
            <div class="display-info">
              <div class="left"><em>1,486</em> 대</div>
              <!-- 230826추가: 분석시간 -->
              <div class="right">
                <span class="time-analysis">분석시간 : 3:00 ~ 15:00</span>
              </div>
            </div>
            <!-- //display-info -->
            <article class="stats-content">
              <!-- 각 도로의 프로그래스바 너비값은 inline style속성의 width값으로 조정. -->
              <div class="progress-bar">
                <!-- 230913수정 : 데이터 없는 경우 -->
                <!-- <span class="no-data" style="width: 100%">100%</span> -->
                <span class="road1" style="width: 29%">29%</span>
                <span class="road2" style="width: 25%">25%</span>
                <span class="road3" style="width: 17%">17%</span>
                <span class="road4" style="width: 17%">17%</span>
                <span class="road5" style="width: 15%">15%</span>
                <span class="road6" style="width: 15%">15%</span>
              </div>
              <!-- //percent-bar -->
              <div class="progress-bar-legend">
                <div>
                  <span class="road1">
                    <em class="txt">가산디지털1로</em>
                    <em class="num">1,000대</em>
                  </span>
                  <span class="road2">
                    <em class="txt">가산디지털1로가산디라</em>
                    <em class="num">1,000대</em>
                  </span>
                </div>
                <div>
                  <span class="road3">
                    <em class="txt">화랑로</em>
                    <em class="num">1,000대</em>
                  </span>
                  <span class="road4">
                    <em class="txt">가산디지털1로</em>
                    <em class="num">1,000대</em>
                  </span>
                </div>
                <div>
                  <span class="road5">
                    <em class="txt">봉화산로</em>
                    <em class="num">1,000대</em>
                  </span>
                  <span class="road6">
                    <em class="txt">가산디지털1로</em>
                    <em class="num">1,000대</em>
                  </span>
                </div>
              </div>
              <!-- //progress-bar-legend -->
            </article>
            <!-- //stats-content -->
          </section>
          <!-- //stats-traffic -->

          <section class="stats-speed">
            <!-- 230826추가: 타이틀 옵션박스 -->
            <div class="stats-tit-option">
              <em class="tit">평균 속도</em>
              <div class="stats-tit-option-bind">
                <button type="button" class="ico-up-boxgray"><span class="screen-out">버튼</span></button>
                <span class="option-list">
                  <button type="button">평균 점유율</button>
                  <button type="button">평균 속도</button>
                  <button type="button">평균 대기행렬</button>
                </span>
              </div>
            </div>
            <!-- //stats-tit-option -->
            <div class="display-info">
              <div class="left">
                <em>70<i>km/h</i></em>
              </div>
              <!-- 230826추가: 분석시간 추가 -->
              <div class="right">
                <div>
                  <label class="radio-txt2 rounded">
                    <input type="radio" name="time2" />
                    <span>5분</span>
                  </label>
                  <label class="radio-txt2 rounded">
                    <input type="radio" name="time2" checked />
                    <span>60분</span>
                  </label>
                </div>
                <span class="time-analysis">분석시간 : 3:00 ~ 15:00</span>
              </div>
            </div>
            <!-- //display-info -->
            <article class="stats-content">
              <div class="chart-container">
                <img src="https://www.dummyimage.com/342x144/ddd/000.png&text=Chart+Area" alt="퍼블리싱 확인용 더미 이미지" class="dummy-img" />
              </div>
            </article>
            <!-- //stats-content -->
          </section>
          <!-- //stats-speed -->

          <section class="stats-los">
            <!-- 230826추가: 타이틀 옵션박스 -->
            <div class="stats-tit-option">
              <em class="tit">LOS 등급</em>
              <div class="stats-tit-option-bind">
                <button type="button" class="ico-up-boxgray"><span class="screen-out">버튼</span></button>
                <span class="option-list">
                  <button type="button">LOS 등급</button>
                  <button type="button">도로 별 LOS 등급</button>
                </span>
              </div>
            </div>
            <!-- //stats-tit-option -->
            <div class="display-info">
              <div class="left"><em>D</em></div>
              <!-- 230826추가: 분석시간 추가 -->
              <div class="right">
                <span class="time-analysis">분석시간 : 3:00 ~ 15:00</span>
              </div>
            </div>
            <!-- //display-info -->
            <article class="stats-content">
              <div class="chart-container">
                <img src="https://www.dummyimage.com/342x150/ddd/000.png&text=Chart+Area" alt="퍼블리싱 확인용 더미 이미지" class="dummy-img" />
              </div>
            </article>
            <!-- //stats-content -->
          </section>
          <!-- //stats-speed -->
        </div>
        <!-- //통계 탭 -->
        <div class="ui bottom attached tab segment video-container" data-tab="second">
          <section class="cr-camera-info">
            <div class="tit-header">
              <em class="tit">카메라 정보</em>
              <span class="right">
                <a href="#" class="btn-md2">카메라 관리</a>
              </span>
            </div>
            <!-- //tit-header -->
            <div class="data-tbl-gray xs">
              <table>
                <thead>
                  <tr>
                    <th>채널</th>
                    <th>카메라 명</th>
                    <th>촬영방향</th>
                    <th>IP</th>
                    <th>상태</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>1</td>
                    <td>CAM1</td>
                    <td>북</td>
                    <td>192.168.1.1</td>
                    <td>정상</td>
                  </tr>
                  <tr>
                    <td>2</td>
                    <td>CAM1</td>
                    <td>북</td>
                    <td>192.168.1.1</td>
                    <td>정상</td>
                  </tr>
                  <tr>
                    <td>3</td>
                    <td>CAM1</td>
                    <td>북</td>
                    <td>192.168.1.1</td>
                    <td>정상</td>
                  </tr>
                  <tr>
                    <td>4</td>
                    <td>CAM1</td>
                    <td>북</td>
                    <td>192.168.1.1</td>
                    <td>정상</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <!-- //data-tbl-gray -->
          </section>
          <!-- //cr-camera-info -->

          <section class="cr-camera-view">
            <em class="tit">카메라 View</em>

            <div class="custom-radio-rectangle-two lg">
              <label>
                <input type="radio" name="ch-all" />
                <span class="txt">분할 화면</span>
              </label>
              <label>
                <input type="radio" name="ch-all" />
                <span class="txt">지도 화면</span>
              </label>
            </div>
          </section>
          <!-- //cr-camera-view -->

          <section class="license-plate-recognition">
            <em class="tit">차량 번호 인식</em>

            <table class="tbl-custom-radio-container">
              <colgroup>
                <col style="width: 8rem" />
                <col />
              </colgroup>
              <tbody>
                <tr>
                  <th>채널 1</th>
                  <td>
                    <div class="custom-radio-rectangle-two">
                      <label>
                        <input type="radio" name="ch2-1" />
                        <span class="txt">보기</span>
                      </label>
                      <label>
                        <input type="radio" name="ch2-1" />
                        <span class="txt">숨기기</span>
                      </label>
                    </div>
                  </td>
                </tr>
                <tr>
                  <th>채널 2</th>
                  <td>
                    <div class="custom-radio-rectangle-two">
                      <label>
                        <input type="radio" name="ch2-2" />
                        <span class="txt">보기</span>
                      </label>
                      <label>
                        <input type="radio" name="ch2-2" />
                        <span class="txt">숨기기</span>
                      </label>
                    </div>
                  </td>
                </tr>
                <tr>
                  <th>채널 3</th>
                  <td>
                    <div class="custom-radio-rectangle-two">
                      <label>
                        <input type="radio" name="ch2-3" disabled />
                        <span class="txt">보기</span>
                      </label>
                      <label>
                        <input type="radio" name="ch2-3" disabled />
                        <span class="txt">숨기기</span>
                      </label>
                    </div>
                  </td>
                </tr>
                <tr>
                  <th>채널 4</th>
                  <td>
                    <div class="custom-radio-rectangle-two">
                      <label>
                        <input type="radio" name="ch2-4" />
                        <span class="txt">보기</span>
                      </label>
                      <label>
                        <input type="radio" name="ch2-4" />
                        <span class="txt">숨기기</span>
                      </label>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </section>
          <!-- //license-plate-recognition -->
        </div>
        <!-- //영상 탭 -->
        <div class="ui bottom attached tab segment accidents-container" data-tab="third">
          <section class="accidents-stats">
            <div class="tit-header">
              <em class="tit">돌발 통계</em>
              <!-- <span class="right">
                <span class="time-analysis">분석시간 : 2023.05.01</span>
              </span> -->
            </div>
            <!-- //tit-header -->
            <article class="accidents-stats-content">
              <div class="chart-container">
                <img src="https://www.dummyimage.com/360x180/ddd/000.png&amp;text=Chart+Area" alt="퍼블리싱 확인용 더미 이미지" class="dummy-img" />
              </div>
              <dl class="cumulative-num">
                <dt>돌발 유형 별 누적 건수</dt>
                <dd>(2023.00.00 ~ 2023.00.00)</dd>
              </dl>
            </article>
          </section>
          <!-- //accidents-stats -->

          <section class="accidents-list">
            <div class="tit-header">
              <em class="tit">방향 별 돌발 목록</em>
              <span class="right">
                <div class="selectbox-wrap xs">
                  <select>
                    <option value="">채널1</option>
                    <option value="">채널2</option>
                    <option value="">채널3</option>
                  </select>
                </div>
              </span>
            </div>
            <!-- //tit-header -->
            <div class="data-tbl-gray xs">
              <table>
                <thead>
                  <tr>
                    <th>시간</th>
                    <th>방향명</th>
                    <th>방향</th>
                    <th>돌발유형</th>
                    <th>처리여부</th>
                    <th>확인</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>11:30:15</td>
                    <td>00방면</td>
                    <td>북</td>
                    <td>정지</td>
                    <td>미확인</td>
                    <td>
                      <button type="button" class="ico-picture"><span class="screen-out">돌발 스틸컷 보기 버튼</span></button>
                    </td>
                  </tr>
                  <tr>
                    <td>11:30:15</td>
                    <td>00방면</td>
                    <td>북</td>
                    <td>정지</td>
                    <td>확인</td>
                    <td>
                      <button type="button" class="ico-picture"><span class="screen-out">돌발 스틸컷 보기 버튼</span></button>
                    </td>
                  </tr>
                  <tr>
                    <td>11:30:15</td>
                    <td>00방면</td>
                    <td>북</td>
                    <td>정지</td>
                    <td>미확인</td>
                    <td>
                      <button type="button" class="ico-picture"><span class="screen-out">돌발 스틸컷 보기 버튼</span></button>
                    </td>
                  </tr>
                  <tr>
                    <td>11:30:15</td>
                    <td>00방면</td>
                    <td>북</td>
                    <td>정지</td>
                    <td>확인</td>
                    <td>
                      <button type="button" class="ico-picture"><span class="screen-out">돌발 스틸컷 보기 버튼</span></button>
                    </td>
                  </tr>
                  <tr>
                    <td>11:30:15</td>
                    <td>00방면</td>
                    <td>북</td>
                    <td>정지</td>
                    <td>미확인</td>
                    <td>
                      <button type="button" class="ico-picture"><span class="screen-out">돌발 스틸컷 보기 버튼</span></button>
                    </td>
                  </tr>
                  <tr>
                    <td>11:30:15</td>
                    <td>00방면</td>
                    <td>북</td>
                    <td>정지</td>
                    <td>확인</td>
                    <td>
                      <button type="button" class="ico-picture"><span class="screen-out">돌발 스틸컷 보기 버튼</span></button>
                    </td>
                  </tr>
                  <tr>
                    <td>11:30:15</td>
                    <td>00방면</td>
                    <td>북</td>
                    <td>정지</td>
                    <td>미확인</td>
                    <td>
                      <button type="button" class="ico-picture"><span class="screen-out">돌발 스틸컷 보기 버튼</span></button>
                    </td>
                  </tr>
                  <tr>
                    <td>11:30:15</td>
                    <td>00방면</td>
                    <td>북</td>
                    <td>정지</td>
                    <td>확인</td>
                    <td>
                      <button type="button" class="ico-picture"><span class="screen-out">돌발 스틸컷 보기 버튼</span></button>
                    </td>
                  </tr>
                  <tr>
                    <td>11:30:15</td>
                    <td>00방면</td>
                    <td>북</td>
                    <td>정지</td>
                    <td>미확인</td>
                    <td>
                      <button type="button" class="ico-picture"><span class="screen-out">돌발 스틸컷 보기 버튼</span></button>
                    </td>
                  </tr>
                  <tr>
                    <td>11:30:15</td>
                    <td>00방면</td>
                    <td>북</td>
                    <td>정지</td>
                    <td>확인</td>
                    <td>
                      <button type="button" class="ico-picture"><span class="screen-out">돌발 스틸컷 보기 버튼</span></button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <!-- //data-tbl-gray -->

            <a href="#" class="ui secondary basic button rounded">돌발 상세 조회</a>
          </section>
          <!-- //accidents-list -->
        </div>
        <!-- //돌발 탭 -->

        <button type="button" class="btn-crossroad-view">
          <span class="screen-out">교차로 상세 열기/닫기 버튼</span>
        </button>
      </div>
      <!-- //crossroad-view-container -->

      <!-- 검색 결과 노출시 is-result 클래스명 추가해주세요. -->
      <div class="search-view-container is-result">
        <button type="button" class="btn-search-view-close">
          <span class="screen-out">검색창 닫기</span>
        </button>
        <!-- //btn-search-view-close -->

        <section class="search-view-header">
          <h2>지점 검색</h2>
          <div class="control-box">
            <span class="key-word-input">
              <input type="text" placeholder="검색어로 검색하기 (ex.강릉 스마트교차로)" />
            </span>
            <!-- //key-word-input -->
            <div class="bind-choice">
              <!-- 230822 js-custom-wrap-location 클래스명 추가 -->
              <div class="btn-custom-wrap js-custom-wrap-location">
                <button type="button" class="btn-custom" data-name="location">지역</button>
                <div class="depth1">
                  <button type="button" data-all="전체">전체</button>
                  <!-- data-target 값과 depth2안에 자식요소들의 id값이 일치해야 합니다.  -->
                  <button type="button" data-target="seoul">서울</button>
                  <button type="button" data-target="gyeonggi">경기</button>
                  <button type="button" data-target="gangwon">강원</button>
                  <button type="button" data-target="">인천</button>
                  <button type="button" data-target="">경남</button>
                </div>
                <!-- //depth1 -->
                <div class="depth2">
                  <span id="seoul" class="area">
                    <button type="button">서울전체</button>
                    <button type="button">강남구</button>
                    <button type="button">서초구</button>
                    <button type="button">동작구</button>
                    <button type="button">강서구</button>
                    <button type="button">구로구</button>
                    <button type="button">송파구</button>
                  </span>
                  <span id="gyeonggi" class="area">
                    <button type="button">경기전체</button>
                  </span>
                  <span id="gangwon" class="area">
                    <button type="button">강원전체</button>
                  </span>
                </div>
                <!-- //depth2 -->
              </div>
              <!-- //btn-custom-wrap -->
              <!-- 230822 js-custom-wrap-system 클래스명 추가 -->
              <div class="btn-custom-wrap js-custom-wrap-system">
                <button type="button" class="btn-custom" data-name="system">시스템</button>
                <!-- 230822 메뉴 수정 -->
                <div class="chk-box">
                  <button type="button">전체 선택</button>
                  <button type="button">스마트 교차로</button>
                  <button type="button">스마트 횡단보도</button>
                </div>
                <!-- //chk-box -->
              </div>
              <!-- //btn-custom-wrap -->
            </div>
            <!-- //bind -->
          </div>
          <!-- //control-box -->

          <button type="button" class="btn-final-search">검색</button>

          <div class="result-wrap">
            <span class="txt">검색결과 5건</span>
            <button type="button" class="btn-choice-reset">선택 초기화</button>
          </div>
          <!-- //result-wrap -->
        </section>
        <!-- //search-view-header -->

        <section class="search-view-body">
          <ul class="result-list">
            <li>
              <div class="branch-name">
                <i class="ico-cr2"><span class="screen-out">교차로</span></i>
                <em>하탑사거리</em>
              </div>
              <div class="right">
                <button type="button" class="ico-point"><span class="screen-out">지점</span></button>
                <button type="button" class="ico-look"><span class="screen-out">지점 상세</span></button>
              </div>
            </li>
            <li>
              <div class="branch-name">
                <i class="ico-cw2"><span class="screen-out">횡단보도</span></i>
                <em>이매２동 행정복지센터</em>
              </div>
              <div class="right">
                <button type="button" class="ico-point"><span class="screen-out">지점</span></button>
                <button type="button" class="ico-look"><span class="screen-out">지점 상세</span></button>
              </div>
            </li>
            <li>
              <div class="branch-name">
                <i class="ico-cw2"><span class="screen-out">횡단보도</span></i>
                <em>유천마트</em>
              </div>
              <div class="right">
                <button type="button" class="ico-point"><span class="screen-out">지점</span></button>
                <button type="button" class="ico-look"><span class="screen-out">지점 상세</span></button>
              </div>
            </li>
          </ul>
        </section>
        <!-- //search-view-body -->

        <!-- <button type="button" class="btn-search-view">
          <span class="screen-out">교차로 상세 열기/닫기 버튼</span>
        </button> -->
        <!-- //btn-search-view -->
      </div>
      <!-- //search-view-container -->

      <main class="ly-container">
        <div id="map1" class="ly-map">
          <!-- 지도 타입 선택 -->
          <!-- <div class="map-type">
            <label>
              <input type="radio" checked name="maptype" />
              <span>일반지도</span>
            </label>
            <label>
              <input type="radio" name="maptype" />
              <span>위성지도</span>
            </label>
          </div> -->
          <!-- //지도 타입 선택 -->

          <!-- 우측 상단 아이콘바 -->
          <div class="map-iconbar-container map-selection pos-right2">
            <button type="button" class="btn-display">
              <span><em>일반지도</em></span>
            </button>
            <div class="map-icon-list">
              <button type="button" class="ic1">
                <span><em>일반지도</em></span>
              </button>
              <button type="button" class="ic2">
                <span><em>야간지도</em></span>
              </button>
              <button type="button" class="ic3">
                <span><em>위성지도</em></span>
              </button>
            </div>
            <!-- //map-icon-list -->
          </div>
          <!-- //map-iconbar-container -->

          <div class="map-iconbar-container map-cw pos-right1">
            <button type="button" class="btn-display">
              <span><em class="screen-out">현재 적용된 아이콘</em></span>
            </button>
            <div class="map-icon-list">
              <button type="button" class="ic1">
                <span><em>차량정보</em></span>
              </button>
              <button type="button" class="ic2">
                <span><em>LOS</em></span>
              </button>
              <button type="button" class="ic3">
                <span><em>신호등</em></span>
              </button>
              <button type="button" class="ic4">
                <span><em>카메라</em></span>
              </button>
              <button type="button" class="ic5">
                <span><em>레이더</em></span>
              </button>
            </div>
            <!-- //map-icon-list -->
          </div>
          <!-- //map-iconbar-container -->
          <!-- //우측 상단 아이콘바 -->
        </div>
        <!-- //ly-map -->
      </main>
      <!-- //ly-container -->

      <footer class="ly-copyright" include-html="/base/html/common/footer.html"></footer>
    </div>
    <!-- //wrapper -->

    <script>
      // map init
      window.onload = function () {
        var map1 = new ngii_wmts.map('map1', { zoom: 6 });
      };

      // 탭 퍼블리싱 확인용
      $('.crossroad-view-container .menu .item').tab();

      // 퍼블리싱 테스트
      $('.search-view-container').hide();
      $(document).on('click', '.link-search', function () {
        $('.search-view-container').show();
      });
      $('.btn-search-view-close').on('click', function () {
        $('.search-view-container').hide();
      });

      /* 지점 검색 UI 스크립트 */
      var $searchContainer = $('.search-view-container');
      function allRemoveActive() {
        $('.depth1 button', $searchContainer).removeClass('active');
        $('.depth2 .area', $searchContainer).removeClass('active');
        $('.btn-custom-wrap .depth2', $searchContainer).hide();
      }

      // 지역, 시스템 버튼 클릭 이벤트
      $('.btn-custom', $searchContainer).on('click', function () {
        $(this).parent().toggleClass('active');

        if (!$(this).parent().is('.active')) {
          allRemoveActive();
        }
        if ($(this).parent('.js-custom-wrap-system').is('.active')) {
          allRemoveActive();
          $('.js-custom-wrap-location', $searchContainer).removeClass('active');
        }
        if ($(this).parent('.js-custom-wrap-location').is('.active')) {
          $('.js-custom-wrap-system', $searchContainer).removeClass('active');
        }
      });

      // 지역 버튼 클릭시 노출되는 1depth 버튼 클릭 이벤트
      $('.depth1 button', $searchContainer).on('click', function () {
        var $targetPoint = $(this).data('target');

        if ($(this).data('all') === '전체') {
          $(this).closest('.btn-custom-wrap').find('.btn-custom').text($(this).data('all'));
          setTimeout(function () {
            allRemoveActive();
            $('.btn-custom-wrap', $searchContainer).removeClass('active');
          }, 100);
        }

        $('.depth1 button', $searchContainer).removeClass('active');
        $(this).addClass('active');

        $('.depth2 .area', $searchContainer).removeClass('active');
        var $pointArea = $('#' + $targetPoint);
        $('.btn-custom-wrap .depth2', $searchContainer).show();
        $pointArea.addClass('active');
      });

      // 지역 버튼의 1depth 버튼 클릭시 노출되는 2depth 버튼 클릭 이벤트
      $('.depth2 button', $searchContainer).on('click', function () {
        var $txt = $(this).text();
        $(this).closest('.btn-custom-wrap').find('.btn-custom').text($txt);
        setTimeout(function () {
          allRemoveActive();
          $('.btn-custom-wrap', $searchContainer).removeClass('active');
        }, 100);
      });

      // 시스템 버튼 클릭 노출 되는 버튼의 클릭 이벤트
      $('.js-custom-wrap-system .chk-box button', $searchContainer).on('click', function () {
        var $txt = $(this).text();
        $(this).closest('.js-custom-wrap-system').removeClass('active').children('.btn-custom').text($txt);
      });
    </script>
  </body>
</html>
